# 환경 변수 먼저 설정
.env 파일 생성하고 아래와 같이 설정
```
OPENAI_API_KEY=sk-proj-******
```

# 실행 방법
```
poetry install
poetry shell
streamlit run app.py
```

# 설명
```
https://chatgpt.com/share/6758b81f-b70c-8005-9348-9346e78dd540
```

# LangGraph 
StateGraph를 활용하면 복잡한 작업 흐름을 시각적으로 설계하고, 각 단계의 상태를 체계적으로 관리할 수 있습니다.   
이를 통해 LLM 기반 애플리케이션의 동작을 더욱 효율적으로 구현할 수 있습니다.   

LangGraph는 복잡한 작업 흐름을 그래프 형태로 모델링하여 각 단계를 노드(Node)와 엣지(Edge)로 관리하고, 분기, 루프, 상태 관리 등을 통해 체계적으로 처리할 수 있게 해주는 라이브러리입니다. 이러한 구조에서 StateGraph는 애플리케이션의 동작을 정의하는 핵심 요소로, 상태(State), 노드(Node), 엣지(Edge)로 구성됩니다.  

1. 상태(State): 애플리케이션의 현재 상태를 나타내는 데이터 구조로, Python의 TypedDict나 Pydantic 모델로 정의됩니다. 이는 작업의 진행 상황이나 결과를 기록하는 데 사용됩니다.  

2. 노드(Node): 각 작업 단계를 나타내며, 상태를 입력으로 받아 특정 작업을 수행하고 업데이트된 상태를 반환하는 Python 함수로 정의됩니다. 예를 들어, LLM 호출, 도구 실행 등의 작업이 노드로 구현될 수 있습니다.  

3. 엣지(Edge): 노드 간의 연결을 나타내며, 작업의 흐름을 정의합니다. 일반 엣지와 조건부 엣지가 있으며, 조건부 엣지는 특정 조건에 따라 다음 실행 노드를 결정하는 데 사용됩니다.  

StateGraph의 동작 원리:  

- 그래프 정의: 먼저, 상태 스키마를 정의하고, 각 작업 단계를 노드로 구현한 후, 노드 간의 실행 흐름을 엣지로 연결하여 그래프를 구성합니다.  

- 그래프 컴파일: 정의된 그래프를 컴파일하여 실행 가능한 형태로 변환합니다.  

- 그래프 실행: 초기 상태를 입력으로 그래프 실행을 시작하며, 각 노드는 상태를 받아 작업을 수행하고, 결과를 업데이트하여 다음 노드로 전달합니다. 이 과정은 정의된 엣지에 따라 진행됩니다.  
